<!--
  Generated template for the RegisterPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<!--<ion-header>-->

  <!--<ion-navbar>-->
    <!--<ion-title>Register</ion-title>-->
  <!--</ion-navbar>-->

<!--</ion-header>-->

<ion-content padding="3px">
<div text-center>
  <img class="logo" src="assets/imgs/logo.png" alt="">
</div>

<ion-grid margin-top>
  <ion-row>
    <ion-col>
      <img src="assets/imgs/registered_one.png" alt="" *ngIf="registerSlides.getActiveIndex()!=0">
      <img src="assets/imgs/registered_one_one.png" alt="" *ngIf="registerSlides.getActiveIndex()==0">
    </ion-col>
    <ion-col align-self-center>
      <hr class="line">
    </ion-col>
    <ion-col>
      <img src="assets/imgs/registered_two.png" alt="" *ngIf="registerSlides.getActiveIndex()!=1">
      <img src="assets/imgs/registered_two_two.png" alt="" *ngIf="registerSlides.getActiveIndex()==1">
    </ion-col>
    <ion-col align-self-center>
      <hr class="line">
    </ion-col>
    <ion-col>
      <img src="assets/imgs/registered_three.png" alt="" *ngIf="registerSlides.getActiveIndex()!=2">
      <img src="assets/imgs/registered_three_three.png" alt="" *ngIf="registerSlides.getActiveIndex()==2">
    </ion-col>
    <ion-col align-self-center>
      <hr class="line">
    </ion-col>
    <ion-col>
      <img src="assets/imgs/register_four.png" alt="" *ngIf="registerSlides.getActiveIndex()!=3">
      <img src="assets/imgs/register_four_four.png" alt="" *ngIf="registerSlides.getActiveIndex()==3">
    </ion-col>
  </ion-row>
</ion-grid>
<div>
  <ion-slides #registerSlides>
    <ion-slide>
      <form #phoneForm="ngForm">
        <ion-list>
          <ion-item>
            <ion-input name="phone"  type="number" placeholder="请输入学号" required
                       [(ngModel)]="register.phone" #phone="ngModel">
            </ion-input>
          </ion-item>
          <ion-item *ngIf="phone.invalid && phone.touched">
            <p [hidden]="!phone.errors?.required">请输入学号</p>
          </ion-item>
        </ion-list>
        <button type="submit" ion-button block parmary [disabled]="phoneForm.invalid" (click)="next()" >下一步</button>
      </form>
    </ion-slide>

    <ion-slide>
      <form >
        <ion-row>
          <ion-col>
            <ion-input name="message" class="inputcss" type="number" placeholder="请输入验证码" [(ngModel)]="register.code"
            #code="ngModel"></ion-input>
          </ion-col>
          <ion-col>
            <button ion-button color="primary"(click)="send()">发送验证码</button>
          </ion-col>
        </ion-row>
        <button type="submit" ion-button block primary (click)="previous()" >上一步</button>
        <button type="submit" ion-button block primary (click)="validateCode()" >下一步</button>
      </form>
    </ion-slide>

    <ion-slide>
      <form #messageForm="ngForm">
        <ion-list>
          <ion-item>
          <ion-input name="shopName" color="primary"   placeholder="请输入用户名" required [(ngModel)]="register.shopName"
            #shopName="ngModel"></ion-input>
          </ion-item>
          <ion-item *ngIf="shopName.invalid && shopName.touched">
            <p [hidden]="!shopName.errors?.required">请输入用户名</p>
          </ion-item>
        </ion-list>
        <ion-list>
          <ion-item>
          <ion-input name="email" type="email"  placeholder="请输入电子邮箱" required pattern ="^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$"
              [(ngModel)]="register.email" #email="ngModel"></ion-input>
          </ion-item>
          <ion-item *ngIf="email.invalid && email.touched">
            <p [hidden]="!email.errors?.required">请输入邮箱</p>
            <p [hidden]="!email.errors?.pattern">您输入的邮箱格式不正确</p>
          </ion-item>
        </ion-list>
        <ion-list>
          <ion-item>
          <ion-input name="password" type="password" required placeholder="请输入登录密码" [(ngModel)]="register.password"
          #password="ngModel"></ion-input>
          </ion-item>
          <ion-item *ngIf="password.invalid && password.touched">
            <p [hidden]="!password.errors?.required">请输入密码</p>
          </ion-item>
        </ion-list>
        <ion-list>
          <ion-item>
          <ion-input name="confirmPassword" type="password" placeholder="请输入确认密码" [(ngModel)]="register.confirmPassword"
          #confirmPassword></ion-input>
          </ion-item>
          <ion-item *ngIf="confirmPassword.invalid && confirmPassword.touched">
            <p [hidden]="!confirmPassword.errors?.required">请再次输入密码</p>
          </ion-item>

        </ion-list>
        <button type="submit" ion-button block primary (click)="previous()" >上一步</button>
        <button type="submit" ion-button block primary [disabled]="messageForm.invalid" (click)="registerOver()" >下一步</button>
      </form>
    </ion-slide>

    <ion-slide>
      <form>
        <button type="submit" ion-button block primary (click)="toSignin()" >完成</button>
      </form>
    </ion-slide>
  </ion-slides>
</div>
</ion-content>

